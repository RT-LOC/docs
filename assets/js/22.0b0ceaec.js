(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{261:function(e,t,a){e.exports=a.p+"assets/img/tray_flash.45dd9f73.png"},262:function(e,t,a){e.exports=a.p+"assets/img/flashing_win_success.9df3730e.png"},263:function(e,t,a){e.exports=a.p+"assets/img/flashing_win_fail.1079493d.png"},264:function(e,t,a){e.exports=a.p+"assets/img/flashing_device_manager.51c6ffb5.png"},265:function(e,t,a){e.exports=a.p+"assets/img/flashing_linux_success.e2183792.png"},506:function(e,t,a){"use strict";a.r(t);var s=a(10),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"flashing-the-boards"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flashing-the-boards"}},[e._v("#")]),e._v(" Flashing the boards")]),e._v(" "),s("p",[e._v("In order to get the boards running, we need to flash the correct (latest and greatest) firmware on the boards.\nHow that is done is explained here.")]),e._v(" "),s("h2",{attrs:{id:"easy-re-flashing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#easy-re-flashing"}},[e._v("#")]),e._v(" Easy (re-)flashing")]),e._v(" "),s("h3",{attrs:{id:"rtloc-app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rtloc-app"}},[e._v("#")]),e._v(" RTLOC app")]),e._v(" "),s("p",[e._v('You can easily (re-)flash your hardware using our app. In the firmware tab get and select the appropriate firmware. Then press the "flash firmware" button and check completion in the console. The "flash all" checkbox allows to also re-flash bootloader and firmware loader when flashing firmware.')]),e._v(" "),s("p",[s("img",{attrs:{src:a(261),alt:"Flash from app"}})]),e._v(" "),s("h3",{attrs:{id:"engine-over-the-air-updating"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#engine-over-the-air-updating"}},[e._v("#")]),e._v(" Engine: over-the-air updating")]),e._v(" "),s("p",[e._v("We also support over-the-air (OTA) firmware updates. From our Engine app, a firmware can be selected to be downloaded and installed over UWB by all devices.")]),e._v(" "),s("h2",{attrs:{id:"architecture"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#architecture"}},[e._v("#")]),e._v(" Architecture")]),e._v(" "),s("p",[e._v("The flash architecture is as follows:")]),e._v(" "),s("p",[e._v("---- 0x0")]),e._v(" "),s("p",[e._v("S132 SOFTDEVICE")]),e._v(" "),s("p",[e._v("---- 0x24000")]),e._v(" "),s("p",[e._v("CURRENTLY EMPTY")]),e._v(" "),s("p",[e._v("---- 0x26000")]),e._v(" "),s("p",[e._v("APPLICATION")]),e._v(" "),s("p",[e._v("---- 0x40000")]),e._v(" "),s("p",[e._v("CURRENTLY EMPTY")]),e._v(" "),s("p",[e._v("---- 0x80000")]),e._v(" "),s("p",[e._v("We need to make sure the softdevice and the firmware are flashed.\nOnce the softdevice is flashed, you will not need to update it again. Firmwares can be updated.")]),e._v(" "),s("h2",{attrs:{id:"flashing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flashing"}},[e._v("#")]),e._v(" Flashing")]),e._v(" "),s("h3",{attrs:{id:"prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),s("p",[e._v("In order to flash the boards, you need to have a tool installed that can do the trick.\nThis can be done with "),s("code",[e._v("nrfjprog")]),e._v(" or "),s("code",[e._v("J-Flash Light")]),e._v(" tool. Here we will explain "),s("code",[e._v("nrfjprog")]),e._v(".\nWhenever you have installed the tool, all you need to do is run the scripts that are provided (and make sure the scripts are referring to the correct binary file). Make sure you have downloaded the last scripts & binaries.")]),e._v(" "),s("h3",{attrs:{id:"nrfjprog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nrfjprog"}},[e._v("#")]),e._v(" nrfjprog")]),e._v(" "),s("p",[e._v("nrfjprog is a command line tool that we can call from the Command Prompt(win)/terminal(linux).\nMore information on how to install and use nrfjprog can be found "),s("a",{attrs:{href:"http://infocenter.nordicsemi.com/index.jsp?topic=%2Fcom.nordic.infocenter.tools%2Fdita%2Ftools%2Fnrf5x_command_line_tools%2Fnrf5x_command_line_tools_lpage.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),s("OutboundLink")],1),e._v(".\nNote that you don't really need to know how to use it, as this will be done in the scripts.")]),e._v(" "),s("h3",{attrs:{id:"scripts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scripts"}},[e._v("#")]),e._v(" Scripts")]),e._v(" "),s("p",[e._v("The scripts are provided for Windows and Linux. A script is provided to flash the Softdevice in case that hasn't been done yet and a separate script is to flash the firmware.")]),e._v(" "),s("h4",{attrs:{id:"windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[e._v("#")]),e._v(" Windows")]),e._v(" "),s("p",[e._v("Find the following file in the file explorer and double-click it:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[PATH_TO]/current/scripts/f_tag.bat\n")])])]),s("p",[e._v("You should see something similar:")]),e._v(" "),s("p",[s("img",{attrs:{src:a(262),alt:"flashing windows success",title:"Flashing Windows Success"}})]),e._v(" "),s("p",[e._v("If this is the case, you can skip the rest of this paragraph.")]),e._v(" "),s("p",[e._v("It could be that the board is not well attached to the PC (especially when you're running a VM). You might see the following in this case:")]),e._v(" "),s("p",[s("img",{attrs:{src:a(263),alt:"flashing windows fail",title:"Flashing Windows Fail"}})]),e._v(" "),s("p",[e._v("Make sure the board is recognized by the PC. You should see the "),s("em",[e._v("JLink CDC UART port")]),e._v(" in the Device Engine:")]),e._v(" "),s("p",[s("img",{attrs:{src:a(264),alt:"flashing device manager",title:"Flashing Device Engine"}})]),e._v(" "),s("h4",{attrs:{id:"linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[e._v("#")]),e._v(" Linux")]),e._v(" "),s("p",[e._v("Change the active directory in the terminal to:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cd [PATH_TO]/current/scripts/\n")])])]),s("p",[e._v("and run the following script:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("./f_tag.sh\n")])])]),s("p",[e._v("You should see something like this:\n"),s("img",{attrs:{src:a(265),alt:"flashing linux success",title:"Flashing Linux Success"}})]),e._v(" "),s("h2",{attrs:{id:"verification"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verification"}},[e._v("#")]),e._v(" Verification")]),e._v(" "),s("p",[e._v("If you have successfully flashed the board, it will automatically restart and start running.\nThe third LED from the top should start blinking red and green after a couple of seconds. This means it is sending and receiving packets. Did this not work? Try to reset the tag by replugging the USB cable. If it is still not working, try to reflash.\nYou can also verify that you can make a BLE connection. You can find more information on BLE "),s("RouterLink",{attrs:{to:"/embedded/hw_interface_ble.html"}},[e._v("here")]),e._v(".")],1)])}),[],!1,null,null,null);t.default=r.exports}}]);